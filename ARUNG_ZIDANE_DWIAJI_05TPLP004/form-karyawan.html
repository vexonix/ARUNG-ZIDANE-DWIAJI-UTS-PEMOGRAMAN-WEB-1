<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Input Data Karyawan - SIMK</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet"/>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-6">
        <h1 class="text-2xl font-bold mb-6">Form Input Data Karyawan</h1>
        
        <form id="karyawanForm" class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
            <!-- Data Pribadi -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-4">Data Pribadi</h2>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="nip">
                            NIP
                        </label>
                        <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="nip" type="text" placeholder="NIP" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="nama">
                            Nama Lengkap
                        </label>
                        <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="nama" type="text" placeholder="Nama Lengkap" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="tempat_lahir">
                            Tempat Lahir
                        </label>
                        <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="tempat_lahir" type="text" placeholder="Tempat Lahir" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="tanggal_lahir">
                            Tanggal Lahir
                        </label>
                        <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="tanggal_lahir" type="date" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="jenis_kelamin">
                            Jenis Kelamin
                        </label>
                        <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="jenis_kelamin" required>
                            <option value="">Pilih Jenis Kelamin</option>
                            <option value="L">Laki-laki</option>
                            <option value="P">Perempuan</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="agama">
                            Agama
                        </label>
                        <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="agama" required>
                            <option value="">Pilih Agama</option>
                            <option value="Islam">Islam</option>
                            <option value="Kristen">Kristen</option>
                            <option value="Katolik">Katolik</option>
                            <option value="Hindu">Hindu</option>
                            <option value="Buddha">Buddha</option>
                            <option value="Konghucu">Konghucu</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Kontak & Alamat -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-4">Kontak & Alamat</h2>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="no_hp">
                            No. HP
                        </label>
                        <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="no_hp" type="tel" placeholder="No. HP" required>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="email">
                            Email
                        </label>
                        <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="email" type="email" placeholder="Email" required>
                    </div>
                </div>
                <div class="mt-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="alamat">
                        Alamat
                    </label>
                    <textarea class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="alamat" rows="3" placeholder="Alamat" required></textarea>
                </div>
            </div>

            <!-- Data Kepegawaian -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-4">Data Kepegawaian</h2>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="divisi">
                            Divisi
                        </label>
                        <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="divisi" required>
                            <option value="">Pilih Divisi</option>
                            <option value="IT">IT</option>
                            <option value="HR">HR</option>
                            <option value="Finance">Finance</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="jabatan">
                            Jabatan
                        </label>
                        <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="jabatan" required>
                            <option value="">Pilih Jabatan</option>
                            <option value="Manager">Manager</option>
                            <option value="Supervisor">Supervisor</option>
                            <option value="Staff">Staff</option>
                        </select>
                    </div>
                    <!-- Lanjutan dari kode sebelumnya... -->
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="status_kepegawaian">
                            Status Kepegawaian
                        </label>
                        <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="status_kepegawaian" required>
                            <option value="">Pilih Status</option>
                            <option value="Tetap">Tetap</option>
                            <option value="Kontrak">Kontrak</option>
                            <option value="Probation">Probation</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="tanggal_bergabung">
                            Tanggal Bergabung
                        </label>
                        <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="tanggal_bergabung" type="date" required>
                    </div>
                </div>
            </div>

            <!-- Upload Foto -->
            <div class="mb-6">
                <h2 class="text-xl font-semibold mb-4">Foto Karyawan</h2>
                <div class="flex items-center space-x-4">
                    <div class="w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center">
                        <img id="preview" src="#" alt="Preview" class="hidden max-w-full max-h-full">
                        <i id="placeholder" class="fas fa-user text-4xl text-gray-400"></i>
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="foto">
                            Upload Foto
                        </label>
                        <input type="file" id="foto" accept="image/*" class="block w-full text-sm text-gray-500
                            file:mr-4 file:py-2 file:px-4
                            file:rounded-full file:border-0
                            file:text-sm file:font-semibold
                            file:bg-blue-50 file:text-blue-700
                            hover:file:bg-blue-100
                        ">
                        <p class="mt-1 text-sm text-gray-500">PNG, JPG atau JPEG (Maks. 2MB)</p>
                    </div>
                </div>
            </div>

            <!-- Tombol Submit dan Reset -->
            <div class="flex items-center justify-between">
                <button class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                    <i class="fas fa-save mr-2"></i> Simpan Data
                </button>
                <button class="bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="reset">
                    <i class="fas fa-undo mr-2"></i> Reset Form
                </button>
            </div>
        </form>
    </div>

    <script>
        // Preview foto yang diupload
        document.getElementById('foto').addEventListener('change', function(e) {
            const preview = document.getElementById('preview');
            const placeholder = document.getElementById('placeholder');
            const file = e.target.files[0];

            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    preview.src = e.target.result;
                    preview.classList.remove('hidden');
                    placeholder.classList.add('hidden');
                }
                reader.readAsDataURL(file);
            }
        });

        // Handle form submission
        document.getElementById('karyawanForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // Mengambil semua nilai input
            const formData = {
                nip: document.getElementById('nip').value,
                nama: document.getElementById('nama').value,
                tempat_lahir: document.getElementById('tempat_lahir').value,
                tanggal_lahir: document.getElementById('tanggal_lahir').value,
                jenis_kelamin: document.getElementById('jenis_kelamin').value,
                agama: document.getElementById('agama').value,
                no_hp: document.getElementById('no_hp').value,
                email: document.getElementById('email').value,
                alamat: document.getElementById('alamat').value,
                divisi: document.getElementById('divisi').value,
                jabatan: document.getElementById('jabatan').value,
                status_kepegawaian: document.getElementById('status_kepegawaian').value,
                tanggal_bergabung: document.getElementById('tanggal_bergabung').value
            };

            // Simpan data ke localStorage
            let karyawanList = JSON.parse(localStorage.getItem('karyawan') || '[]');
            karyawanList.push(formData);
            localStorage.setItem('karyawan', JSON.stringify(karyawanList));

            // Tampilkan alert sukses
            alert('Data karyawan berhasil disimpan!');

            // Reset form
            this.reset();
            document.getElementById('preview').classList.add('hidden');
            document.getElementById('placeholder').classList.remove('hidden');

            // Optional: Redirect ke halaman daftar karyawan
            // window.location.href = 'karyawan.html';
        });
    </script>
</body>
</html>